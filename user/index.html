<!DOCTYPE html>
<html>
<head>
<title>Merret Auth</title>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<script src="https://cdn.jsdelivr.net/gh/Merret/UsefulJS@0.4/js/xhr.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/Merret/UsefulJS@0.4/js/urldata.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/Merret/UsefulJS@0.4/js/element.min.js"></script>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">

<style>
    @import url(//fonts.googleapis.com/earlyaccess/notosanstc.css);
    .button {
        cursor: pointer
    }
    body {
        font-family: 'Noto Sans TC', sans-serif;
        word-break: break-word;
    }
    p {
        white-space: pre;
    }
    a.contact {
        display: block;
    }
</style>
</head>
<body class="w3-container" onload="loaddoc()">
    <h2 id="name"></h2>
    <hr>
    <p id="intro"></p>
    <div id="contact">
        <a id="contact-phone" class="contact"></a>
        <a id="contact-email" class="contact"></a>
        <a id="contact-fb" class="contact"></a>
        <a id="contact-line" class="contact"></a>
    </div>
    <hr>
    
<script>
    function loaddoc() {
        if(urldata("id")==-1) {lld();return;}
        var user = JSON.parse(xhr.get("https://api.myjson.com/bins/"+urldata("id")));
        elm.id("name").innerHTML = user.name;
        elm.id("intro").innerHTML = user.intro;
        elm.id("contact-phone").innerHTML = user.phone;
        elm.id("contact-email").innerHTML = user.email;
        elm.id("contact-fb").innerHTML = user.fb;
        elm.id("contact-line").innerHTML = user.line;
    }
    function lld() {
        if (typeof(Storage) !== "undefined") {
            var LS = localStorage;
        } else {
            return;
        }
        elm.id("name").innerHTML = LS.user.name;
        elm.id("intro").innerHTML = LS.user.intro;
        elm.id("contact-phone").innerHTML = LS.user.phone;
        elm.id("contact-email").innerHTML = LS.user.email;
        elm.id("contact-fb").innerHTML = LS.user.fb;
        elm.id("contact-line").innerHTML = LS.user.line;
    }
</script>
</body>
</html>
